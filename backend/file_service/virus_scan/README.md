# virus_scan

## Описание
Модуль проверки файлов на вирусы с помощью ClamAV. Используется при загрузке файлов и доступен отдельно через API.

## Архитектура
```
virus_scan/
├── router.py   # роутер проверки файла на вирусы
├── service.py  # бизнес-логика проверки
└── README.md
```

## API

### POST /scan/
Проверка файла на вирусы
Запрос:
form-data: file (UploadFile)
Ответ:
```
{
  "clean": true
}
```
или
```
{
  "clean": false,
  "detail": "..." // вывод ClamAV
}
```

Пример запроса:
```
curl -X POST "http://localhost:8000/scan/" -F "file=@test.txt"
```

Коды ошибок:
- 400 — файл заражён
- 422 — некорректные данные

## Внутренняя логика
- Вся бизнес-логика проверки реализована в `service.py`
- Для интеграции используйте функцию `scan_file_with_clamav(file: bytes, filename: str)`

## Зависимости
- ClamAV должен быть установлен в контейнере (см. Dockerfile)
